## **✅ 기술 중심 면접 질문**

### **💡 Spring / JPA**

- JPA를 선택한 이유는 무엇인가요? 직접 쿼리 작성이 필요한 경우는 어떻게 처리했나요?
    - 직접쿼리를 조회하면 데이터지향적이고 객체지향적인 구조로 코드를 구현하기 위해 JPA를 사용했습니다.
    - 또한 @쿼리 어노테이션 사용해서 네이티브 SQL을 작성했습니다.
    - 직접쿼리를 작성한 경우는 성능에서 3개의 매핑이 발생했습니다.
    - category product mybag 형태로 성능이 TTFB가 2초를 초과해서 직접 쿼리튜닝을 통해 필요한 데이터 조회로 성능을 개선하는 용도로 적용했습니다.
    - 
- @Transactional을 어떤 상황에서 사용했고, 트랜잭션 분리를 적용한 구체적인 예시가 있다면 설명해주세요.
    - 데이터 정합성이 중요한 상황에서 사용했습니다. 예를 들어 매수 같은 경우네는 하나라도 실패하면 전체를 롤백해야한다고 생각한다해서 트랜잭셔널을 적용했습니다.
    - 
- WebSocket과 일반 REST API의 차이를 설명해주시고, 왜 WebSocket을 선택하셨나요?
    - 웹소켓은 양방향 통신으로서 실시간 데이터를 주고받을 때 유용합니다.
    - 실시간 데이터를 보내야하는 코스피 코스닥 데이터 및 주식 가격 등은 웹소켓으로 제공했고, 사용자경험을 높이려고했습니다.
    - REST API방식은 사실 폴링 방식을 사용해서 데이터를 제공할수 있는데 이러면 서버에 부하가 오기떄문에 웹소켓이 적절한 상황에선 웹소켓을 적용해야한다고생각합니다. 개발자의 역량은 적절한 도메인에 적절한기술을 써야하는것이라고 생각합니다
- 실시간 수익률 처리를 어떻게 구현하셨나요? 어떤 방식으로 계산되고 업데이트되나요?
    - 실시간 수익률 역시 웹소켓을 통해 제공하고있습니다.  기본 주식어플과 마찬가지로   매수가격과 현재가격을 비교해서 제공하고 백분율로 나타냈습니다.
    - 또한 거래내역부분에서는 성능 저하가 발생해 Redis를 통해 캐시처리해 개선해 제공했습니다. 거래 내역부분은 변경이 그래도 잦은 편이기에 TTL을 30초정도로 설정하고 캐싱처리를 진행했습니다.  아무래도 주식어플에서는 빠른 데이터 속도가 중요하다고 생각했습니다. 금전이왔다갔다하는 ㅂ부분에서는 빠른대처를 위해 빠른 속도가 중요합니다.

---

### **💡 Redis**

- Redis를 어디에 사용했나요? 어떤 데이터를 캐싱했고, 왜 그 데이터를 선택했나요?
    - 자주 조회되지만 변경되지않은 데이터에 즉 주로 get요청에 제공했습니다.
    - 
    
- Redis 도입 후 성능 향상을 체감한 지점이 있다면 설명해주세요.
    - 저는 최고의 사용자 경험은 안정성과 빠른 서비스에서 온다고 생각합니다.
    - 기존 데이터 제공이 빠르더라도 Redis를 사용해도 되는 즉 변경이 잦은 데이터가 아니라고 생각하는 부분은 캐싱처리를 해서 사용했습니다 0.5초 걸리던 데이터도 0.2초로 줄여서 제공했습니다.
- 캐시 무효화 전략은 어떻게 구성하셨나요?
    - 자주 변경되는 데이터는 TTL기반의 캐시 무효화 전략을 사용했습니다.

---

### **💡 Kafka**

- Kafka를 선택한 이유는 무엇인가요? 실시간 알림 처리 과정에서 Kafka가 어떤 역할을 했는지 설명해주세요.
    - 주문 발생시 알림을 보내야하는 상황에서 비동기처리를 하기 위해 사용했습니다. 주문하고 거래내역 데이터를 저장하는 동안 이벤트 알림을 먼저 제공하고 그 동안 다른 기능을 사용할수 있게 했습니다.
    - 이렇게하면 주문 알림서비스가 독립적으로 동작해 장애 전파를 막을수 있습니다.
    - 주문 발생시 event 에서 카프카 토픽에 발행됩니다. 그때 알림서비스가 해당 토픽을 구독하고 받은 메시지를 바탕으로 푸시 알림 등 비동기처리를 진행합니다.
    
- Kafka 메시지 처리 실패 시 어떻게 대응했나요? 재처리 로직이 있었나요?
    - 실패 시 글로벌 익셉션으로 예외 처리 및 재시도 메시지를 유도했습니다.

---

### **💡 인증/보안**

- JWT 인증 구조는 어떻게 설계하셨나요? Access Token과 Refresh Token은 어떻게 다루었나요?
    - JWT는 무상태인증으로 Access 토큰은 HTTP헤더에 담아 사용했고 만료시간을 제공해서 연장 요청을 하도록 유도했습니다. 또한 api사용으로 인한 24시간 리프레쉬토큰은 자동화 로직을 통해 다시 담을 수있도록 util 패키지에서 처리했습니다.

- OAuth2는 도입 예정이라고 하셨는데, 현재 로그인 처리 구조와의 차이점은 무엇이라고 보시나요?
    - 외부에서 인증을 위임하는 방식인데 서버는 해당 제공자한테 정보를 받아 JWT에 담아서 발급을 합니다.
    - 편의성과 보안 신뢰성은 올라가지만 외부 서비스의존도가 높아집니다.
    

---

## **✅ 설계/구조 관련 면접 질문**

### **💡 시스템 설계**

- 실시간 주식 데이터는 어떤 API로 받아오고, 어떻게 가공해서 클라이언트에 전송했나요?
    - 한국투자증권 API를 선택했습니다. 빠르고 간편하게 보이는 데이터를 선호하기 때문에 가장 필요한 데이터를 파싱해서 가공한 API를 명세서를 통해 제공했습니다.
- 
- 실시간 채팅방의 메시지 구조는 어떻게 구성하셨나요?

---

### **💡 비동기 처리**

- 이메일 전송 기능을 비동기로 처리하셨다고 했는데, 어떤 기술을 사용하셨고 왜 이벤트 기반으로 설계했나요?
    - 이메일 전송을 비동기 어노테이션 사용 및 이벤트 기반 설계를 했습니다.
    - 실제 회원가입 시점에서 이메일 발송을 하고, 그동안 다른작업을 하지 못하면
    - 사용자 경험이 떨어진다고생각했습니다.
    - 
- Kafka 기반 메시징과 이메일 이벤트 처리 방식은 어떻게 다르다고 보시나요?
    - 카프카는 내구성과 재처리 기능이 강력합니다. 실시간 이벤트 처리에는 주로 카프카를 이용했습니다. 이메일 발송은 메시지브로커인 카프카 없이두 충분한 성능을 보일 수 있기에 이메일에서는 이벤트 처리방식을 사용했습니다.
    - 

---

### **💡 트랜잭션 처리**

- 대용량 데이터를 안정적으로 저장하기 위해 어떤 방식으로 트랜잭션을 구성하셨나요? 제가 구현한 좋아요 기능에 데이터 충돌을 낙관적으로 바라보고 낙관적락으로 구현했습니다.   어노테이션을 활용해 필요한 범위에만 트랜잭션을 적용했고, 배치 처리 시에는 일괄 저장 방식으로 DB 부하를 줄였습니다.
- 트랜잭션 분리의 필요성을 느낀 상황과 그 해결책을 구체적으로 설명해주세요.
    - 회원가입시 이메일 전송을 같이 처리하는 기능을 개발할떄 이메일 발송 실패시 전체가 롤백되었습니다. 그래서 전송 트랜잭션과 회원가입을 분리하고 이메일을 이벤트기반 비동기 처리를 통해 별도로 실행했습니다.

---

## **✅ CI/CD 및 인프라 관련 질문**

### **💡 GitHub Actions**

- CI/CD 파이프라인에서 어떤 작업을 자동화했나요?
    - 마스터 브랜치에 병합되면 actions에 누르면 자동으로 테스트 배포가 자동화 되도록했습니다. 굳이 병합시 자동화를 하지않은이유는 혹시 모를 리스크를 줄이기 위해서였습니다.
    - 
- PR 시 lint / build / test 자동화는 어떤 도구를 사용했으며, 실패 시 대응 방식은?
    - 깃허브 액션을 통해 테스트 자동화 작업을 했고, 빌드 자동화는 젠킨슨을 택했습니다.
    - 실패시 PR을 notion에서 트러블 슈팅파트에서 공유하며 소통을 해 해결해나가는 방식을 택했습니다.
    - 

---

### **💡 배포/운영**

- EC2 + Docker 환경 구성 시 발생한 문제점과 해결 방법은?
- Nginx는 어떤 역할로 사용했고, SSL 인증 자동화(Certbot)는 어떻게 구성했나요?
    - 엔진엑스로 리버스 프록시 기능을 사용해 가비아에서 산 dns를 입혔고
    - 설봇을 통해 HTTPS인증 자동화를했습니다.

---

### **💡 모니터링**

- Docker health check는 어떤 기준으로 구성했고, 문제가 생기면 어떻게 알 수 있나요?
    - 컨테이너 정상 작동을 테스트하기위해 설정했습니다. health엔드포인트를 호출해 상태를 점검했습니다.
    - 
- CloudWatch를 통한 모니터링 항목과 알림 설정은 어떻게 구성하셨나요?
    - 메모리 90퍼 이상 초과시 이메일로 알림을 받을 수 있도록했습니다.

---

## **✅ 회고/협업 중심 질문**

### **💡 협업 및 리팩토링**

- UX 개선을 위해 어떤 리팩토링을 진행했는지 구체적인 예시를 들어주세요.
    - 직관적이고 편리하게 투자 정보를 확인할 수 있도록 프런트엔드와 무한 스크롤, 페이징 처리등 고민을했습니다.
- Notion, Discord를 활용한 협업 경험에서 가장 중요하게 생각한 점은 무엇인가요?
    - 프런트와 소통할때는 빠른 이해가 필요하기 떄문에 노션에 탬플릿으로 api명세서가 진짜 사용자 직관적이고 좋다고 생각했습니다.
    - 디스코드는 백엔드 회의를 진행할때 화면 공유등 소통에서 편리함을 느꼈습니다.

---

### **💡 성장 질문**

- 가장 기억에 남는 장애 경험과 그 해결 과정은?
- 기술적으로 가장 어려웠던 부분은 무엇이고, 어떻게 해결하셨나요?
- “왜 이렇게 설계해야 하는가?“라는 고민이 어떤 부분에서 가장 중요했다고 느꼈나요?

---

필요하다면 위 질문 중 **모범 답변 예시**도 만들어드릴 수 있어요. 원하는 분야나 질문 골라주세요!
