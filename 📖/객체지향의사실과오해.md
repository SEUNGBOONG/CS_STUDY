JAVA 공부를 위해 추천을 받은 책이다.
읽었던 부분에 대해 감명깊은 부분을 기록해두기

서문

객체지향에 대해 원론적으로만 알고있었지만, 한 단계 이해도를 성장을 목표로 책을 읽었습니다.
객체지향으로 향한는 첫 걸음은 클래스가 아니라 객체를 바라보는 것으로 시작한다.

두번째는 객체를 독립적인 존재가 아니라 기능을 구현하기 위해 협력하는 공동체의 존재로 바라보는 것이다.

세번째 걸음을 내디딜 수 있는지 여부는 협력에 참여하는 객체들에게 얼마나 적절한 역할과 책임을 부여할 수 있느냐

마지막 걸음은 앞에서 설명한 개념들을 프로그래밍 언어라는 틀에 흐트러짐 없이 담아낼 수 있는 기술을 익히는것이다.

협력하는 객체들의 공동체

실세계를 모방하는 것이 아니라 새로운 세계를 창조하는 것에 초점을 두고 설명을 하고 있다.

객체를 스스로 생각하고 스스로 결정하는 현실 세계의 생명체에 비유하는 것은 상태와 행위를 캡슐화하는 소프트웨어 객체의 자율성을 설명하는데 효과적이다.

커피 공화국의 아침

커피를 주문하고 커피를 받아가는 과정까지 이 작은 이벤트를 토대로 객체를 설명해주셨다.

커피를 주문하고 제조하는 과정은 역할, 책임, 협력이라는 사람의 일상 속에 항상 스며들어 있는 세 가지 개념이 한데 어울려 조화를 이루며 만들어 낸 것이다.

커피를 사고 돌아가는 과정 속에 손님, 캐셔, 바리스타 사이의 암묵적인 협력 관계가 존재한다. 손님에게 커피를 내주기 전까지 협력하는 과정 속 자신이 맡은 바 책임을 다함으로써 완벽한 커피를 제공할 수 있게된다.

소프트웨어도 똑같다. 사람사는 곳이라면 어디서나 역할 책임 협력이 존재한다.

즉 객체지향에서는 가장 중요한 것이 역할, 책임, 협력이다.

역할은 어떤 협력에 참여하는 특정한 사람이 협력 안에서 차지하는 책임이나 의무이다. 역할이란 단어는 의미적으로 책임이라는 개념을 내포한다.

- 여러 사람이 동일한 역할을 수행할 수 있다.

손님 입장에선 커피를 주문할 수 있다면, 어떤 캐셔가 오든 어떤 바리스타가 오든 상관이 없다.

-역할은 대체 가능성을 의미한다.

손님 입장에서 캐셔는 대체가능하다. 두 명이 동일한 역할을 수행할 수 있다면, 문제가 되지않는다.

-책임을 수행하는 방법은 자율적으로 선택가능 (다형성)

-한 사람이 동시에 여러 역할을 수행할 수 있다.

캐셔와 바리스타라는 개별적으로 나눴지만 사실 캐셔가 바리스타 역할 역시 할 수 있는 것이다.

이것을 투영해서 설명하면 사람이라는 단어를 객체로 에이전트의 요청을 메시지로 요청을 처리하는 방법은 메서드로 바꾸면 마법처럼 객체지향이 된다. 결국 객체지향을 표현하기위해 실세계를 모방한것이다.

실행중인 객체지향 애플리케이션의 내부를 들여다볼 수 있다면, 겉으로는 우리가 알고 있는 세계와 유사해 보이지만, 본질적으로는 매우 이질적인 모습을 지닌 세계와 마주치게 될 것이다.

객체지향의 세계에서 모든 객체는 자신의 상태를 스스로 관리하는 자율적인 존재다.

엘리스 객체의 키를 작게만드는 것이 엘리스 자신인 것처럼 음료객체의 양을 줄이는 것은 음료 자신이어야한다.

앨리스가 음료를 마셔 키를 작게 만든다. 따라서 엘리스 자신의 상태를 변경한다. 이 과정에서 음료 객체에게 자신이 먹은 양만큼 음료의 양을 줄여달라 요청한다. 양을 줄이는 것은 음료 객체 스스로 결정할 사항이다.

최종적으로

- 객체는 상태를 가지며 상태는 변경 가능하다.

- 객체의 상태를 변경시키는 것은 객체의 행동이다.

행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있다.
행동의 순서가 실행 결과에 영향을 미친다.
- 객체는 어떤 상태에 있더라도 유일하게 식별 가능하다.

객체지향에 갓 입문한 사람들이 가장 쉽게 빠지는 함정

상태를 중심으로 객체를 바라보는 것이다. 상태를 먼저 결정하고 행동을 나중에 결정하는 방법은 설계에 나쁜 영향을 끼친다.

먼저 상태를 먼저 결정할 경우 캡슐화가 저해된다. 상태가 객체 내부로 깔끔하게 캡슐화 되지 않고 공용인터페이스에 그대로 노출 되버릴 확률이 높아진다.

둘쨰, 객체를 협력자가 아닌 고립된 섬으로 만든다. 객체가 필요한 이유는 "협력" 떄문인데, 상태를 먼저 고려하면 협력이라는 문맥에서 멀리 벗어난다.

셋째, 재사용성이 저하된다.

결국 좋은 객체 지향 프로그래밍을 만들려면 상태가 아니라 행동에 초점을 맞춰야 한다.

따라서 어떤 책임이 필요한가를 결정하는 과정이 전체 설계를 주도해야 한다.

책임 주도 설계는 협력이라는 문맥안에서 객체의 행동을 생각하도록 도움으로써 응집도 높고 재사용성이 높은 객체를 만들 수 있다.

결국 가장 중요한 것은 행동이 상태를 결정한다 라는 것이다.

사실상 객체 지향 프로그래밍을 공부 하면서 가장 이해도가 부족했던 것은 추상화 였다. 그래서 추상화에 대한 내용을 조금 더 심도리있게 읽은 것 같다.

직관적인 분류는 추상화를 위한 훌륭한 도구가 될 수 있다라는 것을 말하고있는데, 구체적인 사물 간의 공통점을 취하고 차이점은 버리는 일반화를 통해 단순화하는 것이다. 개념을 통해 객체를 분류하는 과정은 추상화의 두 가지 차원을 모두 사용한다.

결국에는 추상화를 지켜가며 객체를 캡슐화하고, (고려 대상이라는 사실은 외부에 데이터를 감추기

역할
재판이라는 프로그램에 판사는 재판을 하는 역할을 수행하고, 토끼는 증인을 불러오는 역할만을 수행한다. 토끼가 갑자기 판사아ㅢ 역할을 대신할 수 없는것이다.

