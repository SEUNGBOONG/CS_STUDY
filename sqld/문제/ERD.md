

- 1976년 피터 첸에 의해 표기법이 만들어짐 
- 엔티티 도출 -> 배치 -> 관계 설정 -> 관계명 기술

---

# 엔티티 

- 가장 중요한 엔티티는 왼쪽 상단에서 조금 아래쪽 중앙에 배치한다.

- 엔티티는 두개 이상의 속성과 2개 이상의 인스턴스를 가져야한다,


- 반드시 해당 업무에서 필요하고 관리하고자 하는 정보. 
- 유일한 식별자에 의해 식별이 가능해야함 
- 영속적으로 두개 이상의 인스턴스 집합 -> 한개가 아니라 두개이상임!  인스
- 턴스도 두개이상 !!  싱글턴패턴 등등 이상한소리임 
- 업무 프로세스에 의해 이용되어야한다.
- 반드시 속성이 있어야한다. 
- 최소 한 개 이상의 관계가 있어야함.


----


# 발생시점 엔티티 

1. 발생 엔티티 : 이벤트 발생시 생성되는 엔티티  행위라고도부름
    - 이벤트 ( 거래 주문 예약 ) 데이터가 생성됨 주로 트랜잭션 데이터로 사용됨



2. 기본 엔티티 : 업무에서 독립적으로 존재 기본이 되는 엔티티 
   - 고객 상품 직원

3. 중간 엔티티 : 기본 발생 연결하는 역할
   - 다른 엔티티 간의 관계를 표현하는 목적 
   - 거래내역 배송정보 근무 기록

관계 엔티티 x 
----




# 속성에 대한 설명

- 더이상 분리되지 않는 최소의 데이터 단위 
- 하나의 인스턴스에서 속성은 하나의 이상의 속성값을 가질수 없다 반드시 한개
- 자세하고 구체적인 정보를 나타냄 
- 하나의 엔티티는 두개이상의 속성을 가진다 위에 엔티티 특징에있음 


# 정규화 정규형


- 제 1 정규형 : 
  - 원자값을 가져야 함 
  - 중복 데이터를 제거하려고 함
  - 모든 컬럼이 단일 값을 가져야함
  - 즉 한 개의 행  홍길동 : 1234, 2345 이렇게 가지면  이렇게 변경시키는것

  - 홍길동 1234
  - 홍길동 2345 


- 제 2 정규형 :
  - 부분함수 종속 제거 
  - 기본키의 일부에 종속된 속성 문제를 해결해야함 
  - 101

![스크린샷 2025-02-25 오후 4.58.09.png](..%2F..%2F..%2F..%2F..%2F..%2F..%2Fvar%2Ffolders%2Fm4%2Fn9zxyvgx4lx03pl_7nrbhpyr0000gn%2FT%2FTemporaryItems%2FNSIRD_screencaptureui_CyHi6d%2F%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-02-25%20%EC%98%A4%ED%9B%84%204.58.09.png)

이렇게 테이블을 두개로 분리시키는것 


- 제 3 정규형 :
  - 이행적함수 종속 제거
  - 기본키가 아닌 컬럼끼리의 종속성 문제 해결 
![스크린샷 2025-02-25 오후 4.59.12.png](..%2F..%2F..%2F..%2F..%2F..%2F..%2Fvar%2Ffolders%2Fm4%2Fn9zxyvgx4lx03pl_7nrbhpyr0000gn%2FT%2FTemporaryItems%2FNSIRD_screencaptureui_zuPtNh%2F%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-02-25%20%EC%98%A4%ED%9B%84%204.59.12.png)

    - 학생 ID 학생이름 학과 ID 학과명이지만 
    - 기본키로 따로 분리하는것  학과테이블을 따로 분리해서 관리하는 것


- BCNF 
  - 결정자 문제 해결 



- 제 4 정규형 
  - 
![스크린샷 2025-02-25 오후 5.01.55.png](..%2F..%2F..%2F..%2F..%2F..%2F..%2Fvar%2Ffolders%2Fm4%2Fn9zxyvgx4lx03pl_7nrbhpyr0000gn%2FT%2FTemporaryItems%2FNSIRD_screencaptureui_lI8lSJ%2F%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-02-25%20%EC%98%A4%ED%9B%84%205.01.55.png)




---


- 속성의 종류 

- 발생속성 ( 파생 속성 ):
  - 다른 속성을 이용해 계산될 수 있음 
  - 물리적으로 데이터 베이스에 저장하지 않고, 필요할 때 계산하여 사용 
  - 중복을 방지하고 무결성을 유지함

  
이름 기본급 수당 총급여가 있을 때
총급여 부분은 기본급 수당 더해서 바로 출력하게 



- 기본 속성 
  - 엔티티가 원래부터 가지고있는 속성 
  - 물리적으로 저장됨 


- 설계 속성 :
  - 설계 과정에서 업무를 편리하게 하기 위해 추가한 속성 
  - 고객 ID 고객 등급 

- PK 속성 : 


---
- 도메인 : 
  - 속성이 가질수 있는 값의 범위를 미리 지정하여 데이터무결성을 유지 내가 생각하는 그 도메인이네
  - 백엔드에서 데이터 처리를 해서 데이터를 어떻게 넣을지 유효성검사도 하고 그러니까 



----

- 데이터 모델링 관계
  - 참조 무결성 : 외래 키 값은 반드시 부모 테이블의 기본 키 값이어야함. 
  - 개체 무결성 : 기본 키는 null이거나 중복될수 없음 
  - 도메인 무결성: 속성 값은 정의된 도메인 내에서만 존재해야함


---

행위에 의한 관계 
주문 - 고객
의존관꼐임 

존재에 의한 관계 
부모 - 자식 
ex 회사 부서 
연관관계임

연관관계는 소스코드에서 멤버변수로 선언하여 사용하게 하고, 의존관계는 오퍼레이션에서 파라미터 등으로 이용할 수 있도록 되어있다.

연관관계 : 자동차 - 엔진 , 팀 - 선수 -> 멤버변수로 선언해서 사용 
의존관계 : 자동차 - 주유소, 학생- 시험 메서드 실행 시 일시적으로 사용

---
 - 관계 표기법
   - 관계명
   - 관계차수
   - 선택성 -> 식별성아님!!

    1:1 1:M -> 관계차수가 참여자수다

- 두개의 엔티티 사이에 정의한 관계에 대해 동사가 있는가를 봐야함
- 정보의 조합이 발생하는가
- 연관규칙이 존재하는가
- 규칙이 서술되어 있는가



--- 

- 주식별자 : 
  - 고유성 : 각 행을 고유하게 식별하는 역할을 함, 중복되지 않으며, 다른 레코드와 구별할 수 있어야함
  - 널 값 없음: 반드시 널 값이 없어야함 즉 데이터가 무조건 존재한다.
  
  - 변경 불가능 : 참조 관계를 유지하는데 문제가 발생할 수 있음
  - 단일 속성또는 복합 속성 가능 : 
    - 단일 속성일수도 있고, 여러 개의 속성으로 구성된 복합키일수도있음 

- 단일 식별자: 
  - 하나의 컬럼이나 속성을 통해 객체를 고유하게 식별할 수 있는 식별자를 의미합니다. 
  - 보통 한 개의 속성만으로 고유성을 유지할 수 있음 회원 ID ? 


- 내부 식별자: 
  - 비즈니스와 관련이 없으며, 주로 시스템에서만 사용되는 식별자

- 인조 식별자: 
  - 자연식별자 대신 사용되는 인위적 생성
  - 본질식별자가 복잡한 구성을 가질 때 만듬
  - 중복데이터를 막기 어려움 
  - 추가적인 인덱스 필요
  - 단점이 있으므로 필요한 경우에 사용해야함



  
---

식별자 관계: 테이블에서 각 행을 유일하게 식별할 수 있는 속성
- 실선 표현
- 반드시 부모엔티티에 종속
- 자식 주식별자 구성에 부모주식별자 포함 필요
- 상속받은 주식별자 속성을 타엔티티에 이전필요
- 주민등록번호 사번 학번 자동차 번호판
- sql문의 조인 관계를 최소화 하는 경우 식별자 관계로 연결해야함 


비식별자 : 개별행을 유일하게 식별하지 못하는 속성 
- 이름 주소 전화번호 이메일등 
- 1:M 관계에서 부모와 자식관계에서 데이터가 부모 없이 자식쪽 엔티티의 인스턴스가 먼저 생성될수 있으므로 비식별자 관계로 연결해야한다.
- 부모 엔티티인스턴스가 자식 보다 먼저 소멸될경우 비식별자 관계려 연결
---


----
# 정리 
1. 주식별자 : 엔티티 내에서 각 어커런스를 구분할 수 있는 구분자, 타엔티티와 참조관계를 연결할 수 있는 식별자
2. 보조식별자 엔티티 내에서 각 어커런스를 구분할 수 있는 구분자이나 대표성을 가지지못함
3. 내부: 엔티티 내부에서 스스로 만들어짐
4. 외부: 타 엔티티와의 관계를 통해 타 엔티티로부터 받아오는 식별자
5. 단일 : 하나의 속성으로 구성된 식별자
6. 복합 : 둘 이상의 속성으로 구성된 식별자
7. 본질 : 업무에 의해 만들어지는 식별자
8. 인조 식별자: 업무적으로 만들어지지는 않지만 원조 식별자가 복잡한 구성을 가지고 있어 인위적으로 만들어냄




--- 
- 기본속성: 업무분석을 통해 바로 정의환 속성 
- 설계속성 : 원래 업무상 존재하지는 않지만 설계를 하면서 도출해 내는 속성 
- 파생속성: 다른 속성으로부터 계싼이나 변형이 되어 생성되는 속성 
- 일반속성: 구성방식에 따른 분류 속성



--- 
